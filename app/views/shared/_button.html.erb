<%# Button Component
  Usage: <%= render 'shared/button', text: 'Submit', type: 'primary', classes: 'w-full' %>

  Parameters:
  - text: Button text (required)
  - type: 'primary', 'secondary', 'success', 'danger', 'outline-primary' (default: 'primary')
  - size: 'sm', 'lg', or nil for default
  - classes: Additional CSS classes
  - link: URL if this should be a link instead of button
  - method: HTTP method for links (:delete, :patch, etc.)
  - onclick: JavaScript onclick handler
  - disabled: Boolean to disable button
%>

<%
  button_type = local_assigns[:type] || 'primary'
  button_size = local_assigns[:size]
  button_classes = "inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2"

  case button_type
  when 'primary'
    button_classes += " bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500 shadow-sm hover:shadow-md"
  when 'secondary'
    button_classes += " bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500"
  when 'success'
    button_classes += " bg-green-600 text-white hover:bg-green-700 focus:ring-green-500"
  when 'danger'
    button_classes += " bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"
  when 'outline-primary'
    button_classes += " border border-indigo-600 text-indigo-600 hover:bg-indigo-600 hover:text-white focus:ring-indigo-500"
  end

  if button_size == 'lg'
    button_classes += " px-6 py-3 text-base"
  elsif button_size == 'sm'
    button_classes += " px-3 py-1.5 text-xs"
  end

  if local_assigns[:disabled]
    button_classes += " opacity-50 cursor-not-allowed"
  end

  button_classes += " #{local_assigns[:classes]}" if local_assigns[:classes].present?
%>

<% if local_assigns[:link].present? %>
  <%= link_to local_assigns[:text],
      local_assigns[:link],
      class: button_classes,
      method: local_assigns[:method],
      onclick: local_assigns[:onclick],
      data: local_assigns[:data] %>
<% else %>
  <button
    type="<%= local_assigns[:button_type] || 'submit' %>"
    class="<%= button_classes %>"
    onclick="<%= local_assigns[:onclick] %>"
    <%= 'disabled' if local_assigns[:disabled] %>
    <% if local_assigns[:data] %>
      <% local_assigns[:data].each do |key, value| %>
        data-<%= key %>="<%= value %>"
      <% end %>
    <% end %>
  >
    <%= local_assigns[:text] %>
  </button>
<% end %>
