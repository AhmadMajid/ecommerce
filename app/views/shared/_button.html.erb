<% btn_type = local_assigns[:type] || 'primary' %>
<% btn_size = case local_assigns[:size]
  when 'sm' then 'px-2 py-1 text-xs'
  when 'lg' then 'px-6 py-3 text-lg'
  else 'px-4 py-2 text-sm'
end %>
<% btn_classes = "inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 #{btn_size} " %>
<% btn_classes += case btn_type
  when 'primary' then 'bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500 shadow-sm hover:shadow-md'
  when 'secondary' then 'bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400'
  when 'success' then 'bg-green-600 text-white hover:bg-green-700 focus:ring-green-500'
  when 'danger' then 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500'
  when 'outline-primary' then 'border border-indigo-600 text-indigo-600 bg-white hover:bg-indigo-50 focus:ring-indigo-500'
  else 'bg-gray-100 text-gray-800'
end %>
<% btn_classes += " #{local_assigns[:classes]}" if local_assigns[:classes] %>
<% if local_assigns[:link] %>
  <%= link_to local_assigns[:text], local_assigns[:link], method: local_assigns[:method], onclick: local_assigns[:onclick], class: btn_classes, disabled: local_assigns[:disabled] %>
<% else %>
  <% button_type = local_assigns[:submit] ? 'submit' : 'button' %>
  <% name_attr = local_assigns[:name] ? "name=\"#{local_assigns[:name]}\"" : '' %>
  <button type="<%= button_type %>" class="<%= btn_classes %>" onclick="<%= local_assigns[:onclick] %>" <%= name_attr.html_safe %> <%= 'disabled' if local_assigns[:disabled] %>><%= local_assigns[:text] %></button>
<% end %>
